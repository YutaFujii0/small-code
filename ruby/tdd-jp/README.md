# 用語
* 購入契約　contract（購入と契約は同義とする）
* 購入する／契約する　sign
* 製品　product
* 購入製品
* 売上　revenue
* 収益認識　revenue recognition
* 収益認識を行う：「何日に，いくら」を返す

# Object



# 仕様
- [ ] signという関数は購入契約を取り扱い，売上の収益認識を行う
    - [ ] 端数は可能な限り均等に，かつ早い日付から順に加える
        - [ ] 購入契約がワードプロセッサの場合，購入日に全額1件の収益認識を返す
            - [ ] 2022-03-08に「MS Word」を契約した場合，2022-03-08に18,800円の収益認識を返す
            - [ ] 2022-03-09に「MS Word」を契約した場合，2022-03-09に18,800円の収益認識を返す
            - [ ] 2022-03-08に「一太郎」を契約した場合，2022-03-08に20,000円の収益認識を返す
            - [ ] 2022-03-09に「一太郎」を契約した場合，2022-03-09に20,000円の収益認識を返す
        - [ ] 購入契約がスプレッドシートの場合，購入日に売上の2/3、30日後に1/3を2件の収益認識を返す
            - [ ] 2022-02-01に「MS Excel」を契約した場合，2022-02-01に 18,534円、2022-03-03に 9,266円収益認識を返す
            - [ ] 2022-02-02に「MS Excel」を契約した場合，2022-02-02に 18,534円、2022-03-04に 9,266円収益認識を返す
            - [ ] 2022-02-01に「三四郎」を契約した場合，2022-02-01に 3,334円、2022-03-03に 1,666円収益認識を返す
            - [ ] 2022-02-02に「三四郎」を契約した場合，2022-02-02に 3,334円、2022-03-04に 1,666円収益認識を返す


# 実行

```
rspec ./work_spec.rb --format documentation --dry-run --example sign

rspec ./work_spec.rb --format documentation --example sign
```


# 質問

- 3で割り切れない数字の場合どうするか
  - 端数は可能な限り均等に，かつ早い日付から順に加えて
- 収益認識に時刻は必要か
　- 日付だけでOK

# 原題
現時点では1回にどれか1つの製品を1つのみ購入する契約（contract）ができるものとする（カートに一つしか入らない貧弱なECサイトのイメージ）。契約が成立（sign）した場合、

ワードプロセッサは契約日（signed_on または signedDate）に直ちに売上（revenue）全額を収益認識（revenue recognition）する
スプレッドシートは契約日に売上の2/3、30日後に1/3を収益認識する
なお、収益認識の総和は売上とかならず 完全一致 しなければならない。

例:

2月1日に「MS Word」が1つ売れる契約が成立したとき、2月1日 に 18,800円収益認識される
2月1日に「MS Excel」が1つ売れる契約が成立したとき、2月1日 に 18,534円、3月3日 に 9,266円収益認識される
2月1日に「三四郎」が1つ売れる契約が成立したとき、2月1日 に 3,334円、3月3日 に 1,666円収益認識される
（「一太郎」に関してもテストしてください）